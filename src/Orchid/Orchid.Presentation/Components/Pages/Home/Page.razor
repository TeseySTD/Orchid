@page "/"
@inject NavigationManager NavManager

<MudContainer MaxWidth="MaxWidth.Medium" Class="d-flex flex-column align-center justify-center" Style="height: 100vh;">
    
    <MudText Typo="Typo.h3" GutterBottom="true" Color="Color.Primary">Orchid</MudText>
    <MudText Typo="Typo.subtitle1" Class="mb-4">Sync book reader</MudText>

    <MudButton Variant="Variant.Filled" 
               Color="Color.Primary" 
               Size="Size.Large"
               StartIcon="@Icons.Material.Filled.Book"
               OnClick="PickFile">
        Open Book
    </MudButton>

</MudContainer>

@code {
    private async Task PickFile()
    {
        var result = await FilePicker.PickAsync();
        if (result != null)
        {
            var path = System.Net.WebUtility.UrlEncode(result.FullPath);
            NavManager.NavigateTo($"/book?path={path}");
        }
    }
}
